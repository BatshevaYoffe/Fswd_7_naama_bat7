{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Bat7/Fswd6/FullStack6/FullStack6/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Bat7/Fswd6/FullStack6/FullStack6/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Bat7/Fswd6/FullStack6/FullStack6/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import styles from\"./Comments.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Comments(_ref){var comments=_ref.comments,postId=_ref.postId,setComments=_ref.setComments,dataHandlers=_ref.dataHandlers;var addData=dataHandlers.addData,editData=dataHandlers.editData,deleteData=dataHandlers.deleteData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),newComment=_useState2[0],setNewComment=_useState2[1];var _useState3=useState(-1),_useState4=_slicedToArray(_useState3,2),isEdit=_useState4[0],setIsEdit=_useState4[1];var addComment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(postId){var name,email,body,url,comment;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:name=document.getElementById(\"commentName\").value;email=document.getElementById(\"commentEmail\").value;body=document.getElementById(\"commentBody\").value;url=\"http://localhost:3000/comments\";comment={postId:postId,name:name,email:email,body:body};addData(url,comment,setComments);setNewComment(false);case 7:case\"end\":return _context.stop();}},_callee);}));return function addComment(_x){return _ref2.apply(this,arguments);};}();var editComment=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(commentId){var name,email,body,url,comment;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:name=document.getElementById(\"updatedCName\").value;email=document.getElementById(\"updatedCEmail\").value;body=document.getElementById(\"updatedCBody\").value;url=\"http://localhost:3000/comments/\".concat(commentId);comment={postId:postId,id:commentId,name:name,email:email,body:body};editData(url,comment,setComments);setIsEdit(-1);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function editComment(_x2){return _ref3.apply(this,arguments);};}();var deleteComment=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(commentId){var url;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=\"http://localhost:3000/comments/\".concat(commentId);deleteData(url,commentId,setComments);case 2:case\"end\":return _context3.stop();}},_callee3);}));return function deleteComment(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.comments,children:[comments.map(function(comment){return/*#__PURE__*/_jsx(\"div\",{children:isEdit===comment.id?/*#__PURE__*/_jsxs(\"section\",{className:styles[\"edit-comment\"],children:[/*#__PURE__*/_jsx(\"input\",{id:\"updatedCName\",defaultValue:comment.name}),/*#__PURE__*/_jsx(\"input\",{id:\"updatedCEmail\",defaultValue:comment.email}),/*#__PURE__*/_jsx(\"textarea\",{id:\"updatedCBody\",defaultValue:comment.body}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return editComment(comment.id);},children:\"Save\"})]}):/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\".concat(comment.id,\". \").concat(comment.name)}),/*#__PURE__*/_jsx(\"h6\",{children:comment.email}),/*#__PURE__*/_jsx(\"p\",{children:comment.body}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsEdit(comment.id);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteComment(comment.id);},children:\"Delete\"})]})});}),!newComment&&/*#__PURE__*/_jsx(\"button\",{className:styles[\"add-comment\"],onClick:function onClick(){return setNewComment(true);},children:\"Add Comment\"}),newComment&&/*#__PURE__*/_jsxs(\"div\",{className:styles[\"new-comment\"],children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"commentName\",placeholder:\"name\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"commentEmail\",placeholder:\"email\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"commentBody\",placeholder:\"body\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addComment(postId);},children:\"Submit\"})]})]});}export default Comments;","map":{"version":3,"names":["useState","styles","jsx","_jsx","jsxs","_jsxs","Comments","_ref","comments","postId","setComments","dataHandlers","addData","editData","deleteData","_useState","_useState2","_slicedToArray","newComment","setNewComment","_useState3","_useState4","isEdit","setIsEdit","addComment","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","name","email","body","url","comment","wrap","_callee$","_context","prev","next","document","getElementById","value","stop","_x","apply","arguments","editComment","_ref3","_callee2","commentId","_callee2$","_context2","concat","id","_x2","deleteComment","_ref4","_callee3","_callee3$","_context3","_x3","className","children","map","defaultValue","onClick","placeholder"],"sources":["C:/Users/Bat7/Fswd6/FullStack6/FullStack6/client/src/pages/Comments.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport styles from \"./Comments.module.css\";\r\n\r\nfunction Comments({ comments, postId, setComments, dataHandlers }) {\r\n  const { addData, editData, deleteData } = dataHandlers;\r\n  const [newComment, setNewComment] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(-1);\r\n\r\n  const addComment = async (postId) => {\r\n    let name = document.getElementById(\"commentName\").value;\r\n    let email = document.getElementById(\"commentEmail\").value;\r\n    let body = document.getElementById(\"commentBody\").value;\r\n\r\n    const url = \"http://localhost:3000/comments\";\r\n    const comment = {\r\n      postId: postId,\r\n      name: name,\r\n      email: email,\r\n      body: body,\r\n    };\r\n\r\n    addData(url, comment, setComments);\r\n    setNewComment(false);\r\n  };\r\n\r\n  const editComment = async (commentId) => {\r\n    let name = document.getElementById(\"updatedCName\").value;\r\n    let email = document.getElementById(\"updatedCEmail\").value;\r\n    let body = document.getElementById(\"updatedCBody\").value;\r\n\r\n    const url = `http://localhost:3000/comments/${commentId}`;\r\n    const comment = {\r\n      postId: postId,\r\n      id: commentId,\r\n      name: name,\r\n      email: email,\r\n      body: body,\r\n    };\r\n    editData(url, comment, setComments);\r\n    setIsEdit(-1);\r\n  };\r\n\r\n  const deleteComment = async (commentId) => {\r\n    const url = `http://localhost:3000/comments/${commentId}`;\r\n    deleteData(url, commentId, setComments);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.comments}>\r\n      {comments.map((comment) => (\r\n        <div>\r\n          {isEdit === comment.id ? (\r\n            <section className={styles[\"edit-comment\"]}>\r\n              <input id=\"updatedCName\" defaultValue={comment.name} />\r\n              <input id=\"updatedCEmail\" defaultValue={comment.email} />\r\n              <textarea id=\"updatedCBody\" defaultValue={comment.body} />\r\n              <button onClick={() => editComment(comment.id)}>Save</button>\r\n            </section>\r\n          ) : (\r\n            <section>\r\n              <h5>{`${comment.id}. ${comment.name}`}</h5>\r\n              <h6>{comment.email}</h6>\r\n              <p>{comment.body}</p>\r\n              <button onClick={() => setIsEdit(comment.id)}>Edit</button>\r\n              <button onClick={() => deleteComment(comment.id)}>Delete</button>\r\n            </section>\r\n          )}\r\n        </div>\r\n      ))}\r\n      {!newComment && (\r\n        <button\r\n          className={styles[\"add-comment\"]}\r\n          onClick={() => setNewComment(true)}\r\n        >\r\n          Add Comment\r\n        </button>\r\n      )}\r\n      {newComment && (\r\n        <div className={styles[\"new-comment\"]}>\r\n          <textarea id=\"commentName\" placeholder=\"name\"></textarea>\r\n          <textarea id=\"commentEmail\" placeholder=\"email\"></textarea>\r\n          <textarea id=\"commentBody\" placeholder=\"body\"></textarea>\r\n          <button onClick={() => addComment(postId)}>Submit</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}