{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bat7\\\\Fswd6\\\\FullStack6\\\\FullStack6\\\\client\\\\src\\\\pages\\\\AlbumPhotos.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport styles from \"./AlbumPhotos.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AlbumPhotos() {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  const [startIndex, setStartIndex] = useState(0);\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n  const [endOfAlbum, setEndOfAlbum] = useState(false);\n  const [endOfSet, setEendOfSet] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    albumId\n  } = useParams();\n  const limit = 10;\n  useEffect(() => {\n    let url = `https://jsonplaceholder.typicode.com/albums?id=${albumId}`;\n    fetch(url).then(response => response.json()).then(data => setTitle(data[0].title)).catch(error => {\n      console.error(\"Error fetching album id:\", error);\n      navigate(\"/error\");\n      return [];\n    });\n  }, []);\n  useEffect(() => {\n    let url = `https://jsonplaceholder.typicode.com/photos?albumId=${albumId}&_start=${startIndex}&_limit=${limit}`;\n    fetch(url).then(response => response.json()).then(data => {\n      setPhotos(prevPhotos => [...prevPhotos, ...data]);\n      if (data.length < limit) {\n        setEndOfAlbum(true);\n      }\n      if (endOfSet) {\n        setCurrentPhotoIndex(prevIndex => prevIndex + 1);\n        setEendOfSet(false);\n      }\n    }).catch(error => {\n      console.error(\"Error fetching photos:\", error);\n      navigate(\"/error\");\n      return [];\n    });\n  }, [startIndex]);\n  const handlePrevious = () => {\n    setCurrentPhotoIndex(prevIndex => prevIndex - 1);\n    setEndOfAlbum(false);\n  };\n  const handleNext = () => {\n    if (currentPhotoIndex === photos.length - 1) {\n      setStartIndex(prevStartIndex => prevStartIndex + limit);\n      setEendOfSet(true);\n    } else {\n      setCurrentPhotoIndex(prevIndex => prevIndex + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.slider,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.albumTitle,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), photos.length > currentPhotoIndex ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.photoWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevious,\n        disabled: currentPhotoIndex === 0,\n        className: `${styles[\"arrow-button\"]} ${styles.leftArrow}`,\n        children: \"<\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.photoContent,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: photos[currentPhotoIndex].thumbnailUrl,\n          alt: photos[currentPhotoIndex].title,\n          className: styles.photo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.photoTitle,\n          children: photos[currentPhotoIndex].title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        disabled: endOfAlbum || endOfSet || photos.length === 0,\n        className: `${styles[\"arrow-button\"]} ${styles.rightArrow}`,\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: endOfAlbum ? \"End of album\" : \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(AlbumPhotos, \"Bjxp0mEz4oYHXEvbCyHCSU6a0E8=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = AlbumPhotos;\nexport default AlbumPhotos;\nvar _c;\n$RefreshReg$(_c, \"AlbumPhotos\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","styles","jsxDEV","_jsxDEV","AlbumPhotos","_s","photos","setPhotos","startIndex","setStartIndex","currentPhotoIndex","setCurrentPhotoIndex","endOfAlbum","setEndOfAlbum","endOfSet","setEendOfSet","title","setTitle","navigate","albumId","limit","url","fetch","then","response","json","data","catch","error","console","prevPhotos","length","prevIndex","handlePrevious","handleNext","prevStartIndex","className","slider","children","albumTitle","fileName","_jsxFileName","lineNumber","columnNumber","photoWrapper","onClick","disabled","leftArrow","photoContent","src","thumbnailUrl","alt","photo","photoTitle","rightArrow","_c","$RefreshReg$"],"sources":["C:/Users/Bat7/Fswd6/FullStack6/FullStack6/client/src/pages/AlbumPhotos.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport styles from \"./AlbumPhotos.module.css\";\r\n\r\nfunction AlbumPhotos() {\r\n  const [photos, setPhotos] = useState([]);\r\n  const [startIndex, setStartIndex] = useState(0);\r\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\r\n  const [endOfAlbum, setEndOfAlbum] = useState(false);\r\n  const [endOfSet, setEendOfSet] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  const { albumId } = useParams();\r\n  const limit = 10;\r\n\r\n  useEffect(() => {\r\n    let url = `https://jsonplaceholder.typicode.com/albums?id=${albumId}`;\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((data) => setTitle(data[0].title))\r\n      .catch((error) => {\r\n        console.error(\"Error fetching album id:\", error);\r\n        navigate(\"/error\");\r\n        return [];\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let url = `https://jsonplaceholder.typicode.com/photos?albumId=${albumId}&_start=${startIndex}&_limit=${limit}`;\r\n\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setPhotos((prevPhotos) => [...prevPhotos, ...data]);\r\n        if (data.length < limit) {\r\n          setEndOfAlbum(true);\r\n        }\r\n        if (endOfSet) {\r\n          setCurrentPhotoIndex((prevIndex) => prevIndex + 1);\r\n          setEendOfSet(false);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching photos:\", error);\r\n        navigate(\"/error\");\r\n        return [];\r\n      });\r\n  }, [startIndex]);\r\n\r\n  const handlePrevious = () => {\r\n    setCurrentPhotoIndex((prevIndex) => prevIndex - 1);\r\n    setEndOfAlbum(false);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentPhotoIndex === photos.length - 1) {\r\n      setStartIndex((prevStartIndex) => prevStartIndex + limit);\r\n      setEendOfSet(true);\r\n    } else {\r\n      setCurrentPhotoIndex((prevIndex) => prevIndex + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.slider}>\r\n      <h1 className={styles.albumTitle}>{title}</h1>\r\n      {photos.length > currentPhotoIndex ? (\r\n        <div className={styles.photoWrapper}>\r\n          <button\r\n            onClick={handlePrevious}\r\n            disabled={currentPhotoIndex === 0}\r\n            className={`${styles[\"arrow-button\"]} ${styles.leftArrow}`}\r\n          >\r\n            &lt;\r\n          </button>\r\n          <div className={styles.photoContent}>\r\n            <img\r\n              src={photos[currentPhotoIndex].thumbnailUrl}\r\n              alt={photos[currentPhotoIndex].title}\r\n              className={styles.photo}\r\n            />\r\n            <h3 className={styles.photoTitle}>\r\n              {photos[currentPhotoIndex].title}\r\n            </h3>\r\n          </div>\r\n          <button\r\n            onClick={handleNext}\r\n            disabled={endOfAlbum || endOfSet || photos.length === 0}\r\n            className={`${styles[\"arrow-button\"]} ${styles.rightArrow}`}\r\n          >\r\n            &gt;\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <p>{endOfAlbum ? \"End of album\" : \"Loading...\"}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlbumPhotos;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,MAAM,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACa,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACiB,QAAQ,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAChD,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMqB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEmB;EAAQ,CAAC,GAAGpB,SAAS,CAAC,CAAC;EAC/B,MAAMqB,KAAK,GAAG,EAAE;EAEhBtB,SAAS,CAAC,MAAM;IACd,IAAIuB,GAAG,GAAI,kDAAiDF,OAAQ,EAAC;IACrEG,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAKT,QAAQ,CAACS,IAAI,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC,CACvCW,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDV,QAAQ,CAAC,QAAQ,CAAC;MAClB,OAAO,EAAE;IACX,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENpB,SAAS,CAAC,MAAM;IACd,IAAIuB,GAAG,GAAI,uDAAsDF,OAAQ,WAAUX,UAAW,WAAUY,KAAM,EAAC;IAE/GE,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;MACdnB,SAAS,CAAEuB,UAAU,IAAK,CAAC,GAAGA,UAAU,EAAE,GAAGJ,IAAI,CAAC,CAAC;MACnD,IAAIA,IAAI,CAACK,MAAM,GAAGX,KAAK,EAAE;QACvBP,aAAa,CAAC,IAAI,CAAC;MACrB;MACA,IAAIC,QAAQ,EAAE;QACZH,oBAAoB,CAAEqB,SAAS,IAAKA,SAAS,GAAG,CAAC,CAAC;QAClDjB,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CV,QAAQ,CAAC,QAAQ,CAAC;MAClB,OAAO,EAAE;IACX,CAAC,CAAC;EACN,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAEhB,MAAMyB,cAAc,GAAGA,CAAA,KAAM;IAC3BtB,oBAAoB,CAAEqB,SAAS,IAAKA,SAAS,GAAG,CAAC,CAAC;IAClDnB,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMqB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIxB,iBAAiB,KAAKJ,MAAM,CAACyB,MAAM,GAAG,CAAC,EAAE;MAC3CtB,aAAa,CAAE0B,cAAc,IAAKA,cAAc,GAAGf,KAAK,CAAC;MACzDL,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,MAAM;MACLJ,oBAAoB,CAAEqB,SAAS,IAAKA,SAAS,GAAG,CAAC,CAAC;IACpD;EACF,CAAC;EAED,oBACE7B,OAAA;IAAKiC,SAAS,EAAEnC,MAAM,CAACoC,MAAO;IAAAC,QAAA,gBAC5BnC,OAAA;MAAIiC,SAAS,EAAEnC,MAAM,CAACsC,UAAW;MAAAD,QAAA,EAAEtB;IAAK;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAC7CrC,MAAM,CAACyB,MAAM,GAAGrB,iBAAiB,gBAChCP,OAAA;MAAKiC,SAAS,EAAEnC,MAAM,CAAC2C,YAAa;MAAAN,QAAA,gBAClCnC,OAAA;QACE0C,OAAO,EAAEZ,cAAe;QACxBa,QAAQ,EAAEpC,iBAAiB,KAAK,CAAE;QAClC0B,SAAS,EAAG,GAAEnC,MAAM,CAAC,cAAc,CAAE,IAAGA,MAAM,CAAC8C,SAAU,EAAE;QAAAT,QAAA,EAC5D;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTxC,OAAA;QAAKiC,SAAS,EAAEnC,MAAM,CAAC+C,YAAa;QAAAV,QAAA,gBAClCnC,OAAA;UACE8C,GAAG,EAAE3C,MAAM,CAACI,iBAAiB,CAAC,CAACwC,YAAa;UAC5CC,GAAG,EAAE7C,MAAM,CAACI,iBAAiB,CAAC,CAACM,KAAM;UACrCoB,SAAS,EAAEnC,MAAM,CAACmD;QAAM;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eACFxC,OAAA;UAAIiC,SAAS,EAAEnC,MAAM,CAACoD,UAAW;UAAAf,QAAA,EAC9BhC,MAAM,CAACI,iBAAiB,CAAC,CAACM;QAAK;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eACNxC,OAAA;QACE0C,OAAO,EAAEX,UAAW;QACpBY,QAAQ,EAAElC,UAAU,IAAIE,QAAQ,IAAIR,MAAM,CAACyB,MAAM,KAAK,CAAE;QACxDK,SAAS,EAAG,GAAEnC,MAAM,CAAC,cAAc,CAAE,IAAGA,MAAM,CAACqD,UAAW,EAAE;QAAAhB,QAAA,EAC7D;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,gBAENxC,OAAA;MAAAmC,QAAA,EAAI1B,UAAU,GAAG,cAAc,GAAG;IAAY;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CACnD;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACtC,EAAA,CA/FQD,WAAW;EAAA,QAQDJ,WAAW,EACRD,SAAS;AAAA;AAAAwD,EAAA,GATtBnD,WAAW;AAiGpB,eAAeA,WAAW;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}