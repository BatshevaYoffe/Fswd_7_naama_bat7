{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { useParams, useEffect, useState } from \"react\";\nimport { FaTrash, FaEdit, FaSave } from 'react-icons/fa';\nfunction orderBasket() {\n  _s();\n  const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n  const [myWishList, setMyWishList] = useState([]);\n  const [myReadingList, setMyReadingList] = useState([]);\n  const [FindMyWishList, setFindMyWishList] = useState(false);\n  const [FindMyReadingList, setFindMyReadingList] = useState(false);\n  useEffect(() => {\n    debugger;\n    // ספרים שאני נמצא ברשימת המתנה על מנת להשאיל אותם\n    const myWishListFromLocal = JSON.parse(localStorage.getItem('myWishList'));\n    if (Array.isArray(myWishListFromLocal)) {\n      setMyWishList(myWishListFromLocal);\n      setFindMyWishList(true);\n    } else {\n      const url = `http://localhost:3000/orderBasket/wishList/users/${user.id}`;\n      const requestMyWishList = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      fetch(url, requestMyWishList).then(response => response.json()).then(data => {\n        //const sortedWishList = [...data].sort((a, b) => a.id - b.id);\n        setMyWishList(data);\n        localStorage.setItem('myWhisList', JSON.stringify(data));\n      }).catch(() => setFindMyWishList(false));\n    }\n    //ספרים שאני כרגע קורא \n    const myReadingListFromLocal = JSON.parse(localStorage.getItem('myReadingList'));\n    if (Array.isArray(myReadingListFromLocal)) {\n      setMyReadingList(myReadingListFromLocal);\n      setFindMyReadingList(true);\n    } else {\n      const url = `http://localhost:3000/orderBasket/myReadingList/users/${user.id}`;\n      const requestMyReadingList = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      fetch(url, requestMyReadingList).then(response => response.json()).then(data => {\n        //const sortedWishList = [...data].sort((a, b) => a.id - b.id);\n        setMyReadingList(data);\n        localStorage.setItem('myReadingList', JSON.stringify(data));\n      }).catch(() => setFindMyReadingList(false));\n    }\n  }, []);\n}\n_s(orderBasket, \"YlzXPeRhae6UlzPeF6scKZOems8=\");\nexport default orderBasket;","map":{"version":3,"names":["useNavigate","useParams","useEffect","useState","FaTrash","FaEdit","FaSave","orderBasket","_s","user","JSON","parse","localStorage","getItem","myWishList","setMyWishList","myReadingList","setMyReadingList","FindMyWishList","setFindMyWishList","FindMyReadingList","setFindMyReadingList","myWishListFromLocal","Array","isArray","url","id","requestMyWishList","method","headers","fetch","then","response","json","data","setItem","stringify","catch","myReadingListFromLocal","requestMyReadingList"],"sources":["C:/full stack/Fswd_7_naama_bat7/FSWD7/client/src/libraryPages/orderBasket.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport { useParams, useEffect, useState } from \"react\";\r\nimport { FaTrash, FaEdit, FaSave } from 'react-icons/fa';\r\nfunction orderBasket(){\r\n    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n    const [myWishList,setMyWishList]=useState([]);\r\n    const [myReadingList,setMyReadingList]=useState([]);\r\n    const [FindMyWishList,setFindMyWishList]=useState(false);\r\n    const [FindMyReadingList,setFindMyReadingList]=useState(false);\r\n    \r\n    useEffect(()=>{\r\n        debugger\r\n    // ספרים שאני נמצא ברשימת המתנה על מנת להשאיל אותם\r\n    const myWishListFromLocal = JSON.parse(localStorage.getItem('myWishList'));\r\n    if (Array.isArray(myWishListFromLocal)) {\r\n        setMyWishList(myWishListFromLocal);\r\n        setFindMyWishList(true);\r\n    } else {\r\n      const url = `http://localhost:3000/orderBasket/wishList/users/${user.id}`;\r\n\r\n      const requestMyWishList = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n\r\n      fetch(url, requestMyWishList)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          //const sortedWishList = [...data].sort((a, b) => a.id - b.id);\r\n          setMyWishList(data);\r\n          localStorage.setItem('myWhisList', JSON.stringify(data));\r\n        })\r\n        .catch(() => setFindMyWishList(false));\r\n    }\r\n   //ספרים שאני כרגע קורא \r\n    const myReadingListFromLocal = JSON.parse(localStorage.getItem('myReadingList'));\r\n    if (Array.isArray(myReadingListFromLocal)) {\r\n        setMyReadingList(myReadingListFromLocal);\r\n        setFindMyReadingList(true);\r\n    } else {\r\n      const url = `http://localhost:3000/orderBasket/myReadingList/users/${user.id}`;\r\n\r\n      const requestMyReadingList = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n\r\n      fetch(url, requestMyReadingList)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          //const sortedWishList = [...data].sort((a, b) => a.id - b.id);\r\n          setMyReadingList(data);\r\n          localStorage.setItem('myReadingList', JSON.stringify(data));\r\n        })\r\n        .catch(() => setFindMyReadingList(false));\r\n    }\r\n    },[])\r\n\r\n}\r\nexport default orderBasket;"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,OAAO,EAAEC,MAAM,EAAEC,MAAM,QAAQ,gBAAgB;AACxD,SAASC,WAAWA,CAAA,EAAE;EAAAC,EAAA;EAClB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;EAC5D,MAAM,CAACC,UAAU,EAACC,aAAa,CAAC,GAACZ,QAAQ,CAAC,EAAE,CAAC;EAC7C,MAAM,CAACa,aAAa,EAACC,gBAAgB,CAAC,GAACd,QAAQ,CAAC,EAAE,CAAC;EACnD,MAAM,CAACe,cAAc,EAACC,iBAAiB,CAAC,GAAChB,QAAQ,CAAC,KAAK,CAAC;EACxD,MAAM,CAACiB,iBAAiB,EAACC,oBAAoB,CAAC,GAAClB,QAAQ,CAAC,KAAK,CAAC;EAE9DD,SAAS,CAAC,MAAI;IACV;IACJ;IACA,MAAMoB,mBAAmB,GAAGZ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;IAC1E,IAAIU,KAAK,CAACC,OAAO,CAACF,mBAAmB,CAAC,EAAE;MACpCP,aAAa,CAACO,mBAAmB,CAAC;MAClCH,iBAAiB,CAAC,IAAI,CAAC;IAC3B,CAAC,MAAM;MACL,MAAMM,GAAG,GAAI,oDAAmDhB,IAAI,CAACiB,EAAG,EAAC;MAEzE,MAAMC,iBAAiB,GAAG;QACxBC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC;MAEDC,KAAK,CAACL,GAAG,EAAEE,iBAAiB,CAAC,CAC1BI,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACd;QACAnB,aAAa,CAACmB,IAAI,CAAC;QACnBtB,YAAY,CAACuB,OAAO,CAAC,YAAY,EAAEzB,IAAI,CAAC0B,SAAS,CAACF,IAAI,CAAC,CAAC;MAC1D,CAAC,CAAC,CACDG,KAAK,CAAC,MAAMlB,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAC1C;IACD;IACC,MAAMmB,sBAAsB,GAAG5B,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC;IAChF,IAAIU,KAAK,CAACC,OAAO,CAACc,sBAAsB,CAAC,EAAE;MACvCrB,gBAAgB,CAACqB,sBAAsB,CAAC;MACxCjB,oBAAoB,CAAC,IAAI,CAAC;IAC9B,CAAC,MAAM;MACL,MAAMI,GAAG,GAAI,yDAAwDhB,IAAI,CAACiB,EAAG,EAAC;MAE9E,MAAMa,oBAAoB,GAAG;QAC3BX,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC;MAEDC,KAAK,CAACL,GAAG,EAAEc,oBAAoB,CAAC,CAC7BR,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACd;QACAjB,gBAAgB,CAACiB,IAAI,CAAC;QACtBtB,YAAY,CAACuB,OAAO,CAAC,eAAe,EAAEzB,IAAI,CAAC0B,SAAS,CAACF,IAAI,CAAC,CAAC;MAC7D,CAAC,CAAC,CACDG,KAAK,CAAC,MAAMhB,oBAAoB,CAAC,KAAK,CAAC,CAAC;IAC7C;EACA,CAAC,EAAC,EAAE,CAAC;AAET;AAACb,EAAA,CA3DQD,WAAW;AA4DpB,eAAeA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}