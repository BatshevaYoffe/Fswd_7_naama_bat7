[{"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\index.js":"1","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\App.js":"2","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Login.js":"3","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\ProtectedRoute.js":"4","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Navbar.js":"5","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Register.js":"6","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\contactTheManager.js":"7","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\myBooks.js":"8","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\findBook.js":"9","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\orderBasket.js":"10","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\info.js":"11"},{"size":212,"mtime":1690186918566,"results":"12","hashOfConfig":"13"},{"size":2919,"mtime":1690307967734,"results":"14","hashOfConfig":"13"},{"size":2351,"mtime":1690193095311,"results":"15","hashOfConfig":"13"},{"size":234,"mtime":1690186918562,"results":"16","hashOfConfig":"13"},{"size":1643,"mtime":1690383814846,"results":"17","hashOfConfig":"13"},{"size":4821,"mtime":1690378938623,"results":"18","hashOfConfig":"13"},{"size":234,"mtime":1690191124344,"results":"19","hashOfConfig":"13"},{"size":6000,"mtime":1690371423704,"results":"20","hashOfConfig":"13"},{"size":218,"mtime":1690190169174,"results":"21","hashOfConfig":"13"},{"size":4888,"mtime":1690383975232,"results":"22","hashOfConfig":"13"},{"size":3705,"mtime":1690385535675,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"lveoix",{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"27"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"27"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"27"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"27"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\index.js",[],[],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\App.js",[],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Login.js",["62"],[],"import { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport styles from \"./Login.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Login({ setUsername }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  if (localStorage.getItem(\"currentUser\")) {\r\n    localStorage.clear();\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!name || !password) {\r\n      return;\r\n    }\r\n\r\n    const url = \"http://localhost:3000/login\";\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ name, password }),\r\n    };\r\n\r\n    fetch(url, requestOptions)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          return response.json();\r\n        } else \r\n        //if (response.status === 401) {\r\n          throw \"Wrong username or password\";\r\n       // }\r\n      })\r\n      .then((user) => {\r\n        console.log(user);\r\n        localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n        setUsername(name);\r\n        navigate(`/users/${name}/info`);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        alert(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className={styles.section}>\r\n      <form className={styles.form} onSubmit={handleSubmit}>\r\n        <h5>LOGIN</h5>\r\n        <div className={styles[\"form-row\"]}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            className={styles[\"form-input\"]}\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className={styles[\"form-row\"]}>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className={styles[\"form-input\"]}\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className={styles.btn}>\r\n          LOGIN\r\n        </button>\r\n        <Link className={styles[\"btn-link\"]} to=\"/register\">\r\n          REGISTER\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\ProtectedRoute.js",[],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Navbar.js",[],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\Register.js",["63"],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\contactTheManager.js",["64","65","66","67","68","69","70"],[],"import { useNavigate } from \"react-router-dom\";\r\nimport { useParams, useEffect, useState } from \"react\";\r\nimport { FaTrash, FaEdit, FaSave } from 'react-icons/fa';\r\nfunction contactTheManager(){\r\n\r\n}\r\nexport default contactTheManager;","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\myBooks.js",["71","72","73","74","75","76","77"],[],"import { useNavigate } from \"react-router-dom\";\r\nimport { useParams, useEffect, useState, version } from \"react\";\r\nimport { FaTrash, FaEdit, FaSave } from 'react-icons/fa';\r\nimport styles from \"./Info.module.css\";\r\nimport React from \"react\";\r\nfunction MyBooks(){\r\n    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n    const [myBooks,setMyBooks]= useState([]);\r\n    const [findMyBooks, setFindMyBooks] = useState(true);\r\n    const [currentVolume,setCurrentVolume]=useState(-1);\r\n    const [currentReader,setCurrentReader]=useState(null)\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        debugger\r\n    const myBooksFromLocal = JSON.parse(localStorage.getItem('myBooksList'));\r\n    if (Array.isArray(myBooksFromLocal)) {\r\n      setMyBooks(myBooksFromLocal);\r\n      setFindMyBooks(true);\r\n    } else {\r\n      const url = `http://localhost:3000/myBooks/users/${user.id}`;\r\n\r\n      const requestMyBooks = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n\r\n      fetch(url, requestMyBooks)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          const sortedBooks = [...data].sort((a, b) => a.id - b.id);\r\n          setMyBooks(sortedBooks);\r\n          localStorage.setItem('myBooksList', JSON.stringify(sortedBooks));\r\n        })\r\n        .catch(() => setFindMyBooks(false));\r\n    }\r\n    },[])\r\n\r\n    const deleteBook  = (volume_id) => {\r\n\r\n    }\r\n    const showReader = (volume_id) =>{\r\n        if(currentVolume === volume_id){\r\n            setCurrentVolume(-1); \r\n            setCurrentReader(null) ;  \r\n        }\r\n        else{\r\n            setCurrentVolume(volume_id);\r\n            const readerForVolumeFromLocal = JSON.parse(localStorage.getItem(`readerForVolume=${volume_id}`));\r\n            if(readerForVolumeFromLocal!==null){\r\n                setCurrentReader(readerForVolumeFromLocal[0]);\r\n                console.log(readerForVolumeFromLocal[0])\r\n            }\r\n            else{\r\n                const url = `http://localhost:3000/myBooks/${volume_id}`;\r\n\r\n                const requestBookReader = {\r\n                    method: 'GET',\r\n                    headers: {\r\n                    'Content-Type': 'application/json',\r\n                    },\r\n                };\r\n\r\n                fetch(url, requestBookReader)\r\n                    .then((response) => response.json())\r\n                    .then((data) => {\r\n                    setCurrentReader(data);\r\n                    localStorage.setItem(`readerForVolume=${volume_id}`, JSON.stringify(data));\r\n                    })\r\n                    .catch(() => setFindMyBooks(false));\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    if (findMyBooks){\r\n       let myBooksHtml = myBooks.map((book)=>{\r\n        if(book.availability === 0){\r\n            return(\r\n                <tr key={book.volume_id}>\r\n                    <td>{book.book_name}</td>\r\n                    <td>{book.author_name}</td>\r\n                    <td>{book.publication_year}</td>\r\n                    <td>\r\n                    <button onClick={() => deleteBook(book.volume_id)}>Delete book</button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <React.Fragment key={book.volume_id}>\r\n                        <tr>\r\n                        <td>{book.book_name}</td>\r\n                        <td>{book.author_name}</td>\r\n                        <td>{book.publication_year}</td>\r\n                        <td>\r\n                            <button onClick={() => deleteBook(book.volume_id)}>Delete book</button>\r\n                        </td>\r\n                        <td>\r\n                            <button onClick={() => showReader(book.volume_id)}>Who's the reader?</button>\r\n                        </td>\r\n                        </tr>\r\n                        <tr className={styles.bookReader} style={{ visibility: book.volume_id === currentVolume ? 'visible' : 'collapse'}}>\r\n                            <td colSpan=\"6\">\r\n                                \r\n                                <table>\r\n                                    <tbody>\r\n                                    <tr>\r\n                                        <th>Reader name</th>\r\n                                        <th>Phone</th>\r\n                                        <th>Email</th>\r\n                                        <th>Borrowed date</th>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                            <td>\r\n                                            {currentReader?.first_name} {currentReader?.last_name}\r\n                                            </td>\r\n                                            <td>\r\n                                                {currentReader?.phone}\r\n                                            </td>\r\n                                            <td>\r\n                                                {currentReader?.email}\r\n                                            </td>\r\n                                            <td>\r\n                                                {currentReader?.confirmation_date}\r\n                                            </td>\r\n                                    </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n          </React.Fragment>\r\n            )\r\n\r\n        }\r\n       })\r\n    return (\r\n        <div className={styles[\"user-card\"]}>\r\n            <table>\r\n                <tr>\r\n                    <th>Book Name</th>\r\n                    <th>Author</th>\r\n                    <th>Publishing year</th>\r\n                </tr>\r\n                <tbody>\r\n                    {myBooksHtml}\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n    )\r\n\r\n\r\n    }\r\n    else{\r\n        return (<p>you don't have books</p>)\r\n    }\r\n}\r\nexport default MyBooks;","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\findBook.js",["78","79","80","81","82","83","84"],[],"import { useNavigate } from \"react-router-dom\";\r\nimport { useParams, useEffect, useState } from \"react\";\r\nimport { FaTrash, FaEdit, FaSave } from 'react-icons/fa';\r\n\r\nfunction findBook(){\r\n\r\n}\r\nexport default findBook;","C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\orderBasket.js",["85","86","87","88","89","90"],[],"C:\\full stack\\Fswd_7_naama_bat7\\FSWD7\\client\\src\\libraryPages\\info.js",["91"],[],{"ruleId":"92","severity":1,"message":"93","line":37,"column":11,"nodeType":"94","messageId":"95","endLine":37,"endColumn":46},{"ruleId":"92","severity":1,"message":"93","line":33,"column":11,"nodeType":"94","messageId":"95","endLine":33,"endColumn":55},{"ruleId":"96","severity":1,"message":"97","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":21},{"ruleId":"96","severity":1,"message":"100","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":19},{"ruleId":"96","severity":1,"message":"101","line":2,"column":21,"nodeType":"98","messageId":"99","endLine":2,"endColumn":30},{"ruleId":"96","severity":1,"message":"102","line":2,"column":32,"nodeType":"98","messageId":"99","endLine":2,"endColumn":40},{"ruleId":"96","severity":1,"message":"103","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"96","severity":1,"message":"104","line":3,"column":19,"nodeType":"98","messageId":"99","endLine":3,"endColumn":25},{"ruleId":"96","severity":1,"message":"105","line":3,"column":27,"nodeType":"98","messageId":"99","endLine":3,"endColumn":33},{"ruleId":"96","severity":1,"message":"97","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":21},{"ruleId":"96","severity":1,"message":"100","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":19},{"ruleId":"96","severity":1,"message":"106","line":2,"column":42,"nodeType":"98","messageId":"99","endLine":2,"endColumn":49},{"ruleId":"96","severity":1,"message":"103","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"96","severity":1,"message":"104","line":3,"column":19,"nodeType":"98","messageId":"99","endLine":3,"endColumn":25},{"ruleId":"96","severity":1,"message":"105","line":3,"column":27,"nodeType":"98","messageId":"99","endLine":3,"endColumn":33},{"ruleId":"107","severity":1,"message":"108","line":40,"column":7,"nodeType":"109","endLine":40,"endColumn":9,"suggestions":"110"},{"ruleId":"96","severity":1,"message":"97","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":21},{"ruleId":"96","severity":1,"message":"100","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":19},{"ruleId":"96","severity":1,"message":"101","line":2,"column":21,"nodeType":"98","messageId":"99","endLine":2,"endColumn":30},{"ruleId":"96","severity":1,"message":"102","line":2,"column":32,"nodeType":"98","messageId":"99","endLine":2,"endColumn":40},{"ruleId":"96","severity":1,"message":"103","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"96","severity":1,"message":"104","line":3,"column":19,"nodeType":"98","messageId":"99","endLine":3,"endColumn":25},{"ruleId":"96","severity":1,"message":"105","line":3,"column":27,"nodeType":"98","messageId":"99","endLine":3,"endColumn":33},{"ruleId":"96","severity":1,"message":"97","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":21},{"ruleId":"96","severity":1,"message":"100","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":19},{"ruleId":"96","severity":1,"message":"103","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"96","severity":1,"message":"104","line":3,"column":19,"nodeType":"98","messageId":"99","endLine":3,"endColumn":25},{"ruleId":"96","severity":1,"message":"105","line":3,"column":27,"nodeType":"98","messageId":"99","endLine":3,"endColumn":33},{"ruleId":"107","severity":1,"message":"108","line":70,"column":7,"nodeType":"109","endLine":70,"endColumn":9,"suggestions":"111"},{"ruleId":"96","severity":1,"message":"101","line":1,"column":20,"nodeType":"98","messageId":"99","endLine":1,"endColumn":29},"no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","no-unused-vars","'useNavigate' is defined but never used.","Identifier","unusedVar","'useParams' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'FaTrash' is defined but never used.","'FaEdit' is defined but never used.","'FaSave' is defined but never used.","'version' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array.","ArrayExpression",["112"],["113"],{"desc":"114","fix":"115"},{"desc":"114","fix":"116"},"Update the dependencies array to be: [user.id]",{"range":"117","text":"118"},{"range":"119","text":"118"},[1381,1383],"[user.id]",[2467,2469]]